<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-08-02 12:47:57              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/

namespace Fuwafuwa\Service;

class Member
{
    use \Fuwafuwa\Traits\Content;
    use \Fuwafuwa\Traits\SQL;
    use \Fuwafuwa\Traits\Validation;
    function register(array $O318852266) : array
    {
        goto O684317316;
        O354789835:
        $O626581903->copyfrom($O318852266);
        $O626581903["\160\141\x73\163\167\x6f\x72\x64"] = password_hash($O368678742, PASSWORD_DEFAULT);
        $O784308344 = sha1((string) time());
        $O626581903["\x74\157\x6b\145\156"] = $O784308344;
        $O626581903["\x73\x74\x61\164\165\163"] = \Fuwafuwa\Model\Member::INACTIVE;
        if ($O626581903["\162\157\x6c\145"]) {
            goto O833618905;
        }
        $O626581903["\162\157\x6c\x65"] = "\x6d\145\x6d\142\145\x72";
        O833618905:
        goto O898666356;
        O671847341:
        return $O891892174;
        goto O894302713;
        O741345801:
        $O849320911 = $O855324517->errors();
        return $this->jsonResult(false, [...$O849320911->all("\74\x6c\151\76\72\155\145\x73\x73\x61\147\145\x3c\x2f\x6c\151\x3e")], $O849320911->firstOfAll());
        O894302713:
        goto O319675110;
        O607618266:
        goto O295241935;
        O684317316:
        ["\145\x6d\x61\x69\x6c" => $O440689033, "\x70\141\x73\163\167\x6f\x72\x64\61" => $O368678742, "\156\141\155\145" => $O817755661] = $O318852266 + ["\145\x6d\x61\151\154" => '', "\160\x61\x73\x73\x77\157\162\144\x31" => '', "\156\x61\x6d\145" => ''];
        $O673402283 = \Base::instance();
        $O626581903 = m("\134\x46\165\167\x61\146\x75\x77\x61\134\115\x6f\144\145\154\134\x4d\145\x6d\x62\x65\162");
        $O626581903->load(["\x65\x6d\x61\151\154\x20\75\40\x3f", $O440689033]);
        if ($O626581903->loaded()) {
            goto O607618266;
        }
        $O626581903->validation = ["\x72\165\x6c\x65\x73" => ["\156\x61\x6d\145" => "\162\x65\161\x75\x69\x72\145\144\x7c\x61\154\x70\150\141\137\163\x70\x61\x63\x65\x73", "\x65\x6d\141\151\x6c" => "\162\x65\x71\x75\151\x72\x65\x64\x7c\145\155\141\151\x6c", "\141\x64\144\x72\x65\163\x73" => "\162\145\161\x75\x69\x72\145\144", "\x6d\x6f\x62\151\x6c\x65" => "\162\x65\161\x75\x69\x72\x65\144", "\160\x61\x73\163\x77\157\162\x64\61" => "\162\x65\x71\165\x69\x72\145\x64\x7c\x6d\x69\156\72\66", "\x70\141\163\163\x77\x6f\x72\x64\x32" => "\x70\x72\145\x73\145\156\164\174\x73\141\155\x65\72\160\x61\x73\x73\167\157\x72\x64\61"], "\x61\x6c\x69\141\163" => al("\x72\145\x67\x69\163\x74\145\x72", "\x6e\141\155\145\54\x61\144\x64\162\145\x73\x73\54\145\x6d\141\x69\154\54\155\x6f\142\x69\154\x65\x2c\x70\x61\x73\x73\167\157\x72\144\61\54\160\141\x73\163\167\157\162\x64\62")];
        $O855324517 = $O626581903->validate("\141\x64\144", $O318852266);
        if ($O855324517->fails()) {
            goto O741345801;
        }
        goto O354789835;
        O295241935:
        return $this->jsonResult(false, t("\x72\x65\x67\x69\x73\164\x65\162\x2e\145\x6d\141\151\154\x5f\x72\145\147\151\163\164\145\x72\145\144", $O440689033));
        O319675110:
        goto O006195362;
        O898666356:
        $O626581903->save();
        $O318852266["\x74\157\x6b\x65\156"] = $O784308344;
        $O689125927 = $O673402283["\x52\x4f\117\124\137\125\122\114"] . "\57\155\x65\x6d\x62\145\162\57\141\x63\164\x69\x76\141\164\x69\157\156\77\x74\157\x6b\145\x6e\x3d" . $O784308344;
        $O221886742 = new \Mail\Registration();
        $O891892174 = $O221886742->send($O440689033, ["\156\x61\x6d\x65" => $O817755661, "\154\151\x6e\x6b" => $O689125927, "\x75\x73\145\x72" => $O440689033, "\160\141\163\163\x77\157\162\x64" => $O368678742, "\162\x65\x67\141\162\144\163" => $O673402283["\x43\117\115\x50\x41\116\131\x2e\x6e\141\x6d\x65"]]);
        if (!$O891892174["\163\x75\x63\x63\145\163\163"]) {
            goto O430484102;
        }
        $O891892174["\x64\141\164\x61"] = [t("\162\x65\x67\x69\x73\x74\145\x72\56\x61\x63\x74\x69\166\x61\x74\151\157\156\x5f\x65\155\x61\x69\154\137\163\145\x6e\164", $O440689033)];
        O430484102:
        goto O671847341;
        O006195362:
    }
    function activate(array $O318852266) : array
    {
        goto O630608660;
        O630608660:
        $O784308344 = $O318852266["\164\157\x6b\145\x6e"];
        $O626581903 = m("\x5c\x46\165\167\141\146\165\x77\x61\134\115\157\144\145\154\x5c\x4d\x65\x6d\x62\x65\162");
        $O626581903->load(["\x74\157\x6b\x65\x6e\x20\75\40\77", $O784308344]);
        if ($O626581903->dry()) {
            goto O654349346;
        }
        if ($O626581903["\x73\164\141\164\x75\163"] == \Fuwafuwa\Model\Member::INACTIVE) {
            goto O059132451;
        }
        return $this->jsonResult(false, t("\x72\145\147\x69\163\164\145\162\56\x75\x73\x65\162\137\x61\143\x74\x69\166\141\164\x65\144"));
        goto O309211337;
        O059132451:
        goto O572917261;
        O572917261:
        $O626581903["\163\x74\141\x74\165\163"] = \Fuwafuwa\Model\Member::ACTIVE;
        $O626581903["\x74\x6f\153\145\156"] = sha1((string) time());
        $O393736521 = $O626581903->cast() + ["\x72\x65\147\x61\162\x64\163" => \Base::instance()->get("\x43\117\x4d\120\101\x4e\131\x2e\x6e\x61\x6d\145")];
        $O626581903->save();
        $O221886742 = new \Mail\Activation();
        $O891892174 = $O221886742->send($O626581903["\x65\155\x61\x69\x6c"], $O393736521);
        if (!$O891892174["\163\165\143\143\145\163\x73"]) {
            goto O961613249;
        }
        $O891892174["\x64\x61\164\x61"] = [t("\162\x65\147\151\163\164\145\162\56\141\x63\x74\151\x76\141\164\151\157\156\x5f\x73\x75\143\143\x65\163\163")];
        goto O306784621;
        O306784621:
        O961613249:
        return $O891892174;
        O309211337:
        goto O702356361;
        O654349346:
        return $this->jsonResult(false, t("\154\x6f\147\151\x6e\x2e\151\x6e\166\x61\154\x69\x64\137\x74\157\x6b\x65\x6e"));
        O702356361:
        goto O220079190;
        O220079190:
    }
    function forgot_password(array $O318852266) : array
    {
        goto O351667647;
        O250560286:
        return $this->jsonResult(false, t("\162\x65\147\x69\x73\x74\x65\162\x2e\145\x6d\x61\x69\154\137\x75\x6e\x72\145\147\151\x73\164\145\x72\145\x64", $O440689033));
        O440004675:
        goto O159960412;
        O018666162:
        $O221886742 = new \Mail\ForgotPassword();
        $O891892174 = $O221886742->send($O440689033, $O318852266);
        if (!$O891892174["\x73\165\143\143\145\x73\x73"]) {
            goto O485816477;
        }
        $O891892174["\x64\141\x74\x61"] = [t("\x72\x65\x67\151\x73\164\x65\162\x2e\x65\155\141\x69\x6c\x5f\162\145\163\x65\164\137\163\145\x6e\x74", $O440689033)];
        O485816477:
        return $O891892174;
        goto O440004675;
        O657582205:
        goto O250560286;
        O351667647:
        $O440689033 = $O318852266["\x65\155\x61\x69\154"];
        $O626581903 = m("\x5c\106\x75\x77\141\146\165\x77\x61\x5c\115\157\144\145\x6c\x5c\x4d\x65\155\x62\145\x72");
        $O626581903->load(["\145\155\x61\151\x6c\40\x3d\x20\77", $O440689033]);
        if ($O626581903->dry()) {
            goto O657582205;
        }
        $O673402283 = \Base::instance();
        $O784308344 = $O626581903["\164\x6f\153\x65\x6e"];
        $O025675593 = urlencode($O440689033);
        $O318852266 = ["\156\141\x6d\145" => $O626581903["\x6e\141\155\145"], "\x6c\151\156\x6b" => "{$O673402283["\x52\117\x4f\x54\x5f\125\x52\114"]}\57\155\145\x6d\142\x65\x72\x2f\x63\150\141\x6e\147\145\55\160\141\x73\x73\167\157\x72\144\x3f\x74\x6f\x6b\x65\156\75{$O784308344}\x26\145\155\141\x69\154\75{$O025675593}", "\x72\x65\147\x61\x72\x64\163" => $O673402283["\103\117\115\120\x41\116\x59\x2e\156\x61\155\145"]];
        goto O018666162;
        O159960412:
    }
    function change_password(array $O318852266) : array
    {
        goto O572384053;
        O572384053:
        ["\x65\x6d\x61\151\x6c" => $O440689033, "\x74\x6f\x6b\145\x6e" => $O784308344, "\x70\141\163\x73\x77\157\x72\144\x31" => $O368678742, "\x70\x61\x73\x73\x77\157\x72\144\62" => $O381695058] = $O318852266;
        $O626581903 = m("\134\106\165\167\141\146\x75\167\x61\x5c\115\x6f\x64\x65\154\x5c\115\145\155\x62\x65\162");
        $O626581903->load(["\x65\155\141\151\154\40\75\x20\77\40\101\x4e\104\40\x74\157\153\x65\x6e\x20\x3d\40\77", $O440689033, $O784308344]);
        if ($O626581903->dry()) {
            goto O222208999;
        }
        $O855324517 = ["\x72\x75\x6c\145\x73" => ["\160\x61\x73\x73\167\x6f\162\144\x31" => "\x72\x65\x71\165\151\162\x65\x64\x7c\x6d\151\156\x3a\66", "\160\141\163\163\167\157\162\x64\x32" => "\x70\x72\x65\x73\x65\156\x74\174\x73\x61\155\x65\72\160\x61\x73\x73\167\157\162\144\x31"], "\141\x6c\151\x61\x73" => al("\x72\x65\147\151\x73\x74\x65\x72", "\160\x61\163\163\167\x6f\x72\x64\61\x2c\x70\x61\x73\163\x77\157\162\x64\x32")];
        $O147042029 = $this->validate($O855324517, $O318852266);
        if ($O147042029->fails()) {
            goto O149726726;
        }
        $O673402283 = \Base::instance();
        goto O790232265;
        O150402249:
        O937486267:
        return $O891892174;
        goto O338382392;
        O149726726:
        $O849320911 = $O147042029->errors();
        return $this->jsonResult(false, $O849320911->firstOfAll());
        O338382392:
        goto O031133244;
        goto O511906128;
        O790232265:
        $O626581903["\160\141\x73\163\x77\157\x72\144"] = password_hash($O368678742, PASSWORD_DEFAULT);
        $O626581903["\x74\157\153\145\x6e"] = sha1((string) time());
        $O817755661 = $O626581903["\x6e\x61\x6d\145"];
        $O626581903->save();
        $O221886742 = new \Mail\ResetPassword();
        $O891892174 = $O221886742->send($O440689033, ["\156\x61\x6d\x65" => $O817755661, "\162\145\x67\x61\162\x64\x73" => $O673402283["\x43\117\115\120\x41\116\x59\x2e\156\x61\155\145"]]);
        if (!$O891892174["\163\165\x63\x63\x65\x73\x73"]) {
            goto O937486267;
        }
        $O891892174["\x64\x61\164\x61"] = [t("\x72\145\147\151\163\164\x65\x72\56\x70\141\163\x73\x77\157\162\x64\137\x63\150\141\x6e\147\x65")];
        goto O150402249;
        O511906128:
        O222208999:
        return $this->jsonResult(false, t("\154\157\x67\151\x6e\56\151\x6e\166\141\x6c\x69\144\137\x74\x6f\x6b\145\x6e"));
        O031133244:
        goto O891413027;
        O891413027:
    }
}
